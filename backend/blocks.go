package main

// Define simple tetrominoes as 4x4 matrices
var tetrominoes = [][][]int{
	// I
	{
		{0, 0, 0, 0},
		{1, 1, 1, 1},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
	},
	// O
	{
		{0, 0, 0, 0},
		{0, 2, 2, 0},
		{0, 2, 2, 0},
		{0, 0, 0, 0},
	},
	// T
	{
		{0, 0, 0, 0},
		{3, 3, 3, 0},
		{0, 3, 0, 0},
		{0, 0, 0, 0},
	},
	// S
	{
		{0, 0, 0, 0},
		{0, 4, 4, 0},
		{4, 4, 0, 0},
		{0, 0, 0, 0},
	},
	// Z
	{
		{0, 0, 0, 0},
		{5, 5, 0, 0},
		{0, 5, 5, 0},
		{0, 0, 0, 0},
	},
	// J
	{
		{0, 0, 0, 0},
		{6, 6, 6, 0},
		{0, 0, 6, 0},
		{0, 0, 0, 0},
	},
	// L
	{
		{0, 0, 0, 0},
		{7, 7, 7, 0},
		{7, 0, 0, 0},
		{0, 0, 0, 0},
	},
	// i
	{
		{0, 0, 0, 0},
		{8, 8, 8, 0},
		{0, 0, 0, 0},
		{0, 0, 0, 0},
	},
	// l
	{
		{0, 0, 0, 0},
		{0, 9, 0, 0},
		{0, 9, 9, 0},
		{0, 0, 0, 0},
	},
	// C
	{
		{0, 0, 0, 0},
		{10, 10, 10, 0},
		{10, 0, 10, 0},
		{0, 0, 0, 0},
	},
	// \
	{
		{0, 0, 0, 0},
		{11, 0, 0, 0},
		{0, 11, 0, 0},
		{0, 0, 11, 0},
	},
	// Y
	{
		{0, 0, 0, 0},
		{12, 0, 12, 0},
		{0, 12, 0, 0},
		{0, 0, 0, 0},
	},
}

func flatten(mat [][]int) []int {
	out := make([]int, 16)
	for y := 0; y < 4; y++ {
		for x := 0; x < 4; x++ {
			out[y*4+x] = mat[y][x]
		}
	}
	return out
}

func rotatePiece(piece []int) []int {
	// rotate 4x4 matrix clockwise
	out := make([]int, 16)
	for y := 0; y < 4; y++ {
		for x := 0; x < 4; x++ {
			out[x*4+(3-y)] = piece[y*4+x]
		}
	}
	return out
}
